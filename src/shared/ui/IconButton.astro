---
type As = 'button' | 'a';

interface Props {
  as?: As;
  href?: string; // as="a"
  type?: 'button' | 'submit' | 'reset'; // as="button"
  id?: string;

  label: string; // 접근성 라벨(필수)
  title?: string;

  class?: string; // 추가 클래스
  iconClass?: string; // 아이콘 크기 등
}
const props = Astro.props as Props;

const {
  as = 'button',
  href,
  type = 'button',
  id,
  label,
  title = label,
  class: className = '',
  iconClass = 'h-5 w-5',
} = props;

const base =
  'text-sub hover:text-accent focus-visible:ring-accent/40 relative inline-flex h-9 w-9 items-center justify-center rounded-md transition ' +
  'focus-visible:outline-none focus-visible:ring-2';

const cls = `${base} ${className}`;
---

{
  as === 'a' ? (
    <a id={id} href={href} class={cls} aria-label={label} title={title}>
      <span class={iconClass} aria-hidden="true">
        <slot />
      </span>
      <span class="sr-only">{label}</span>
    </a>
  ) : (
    <button id={id} type={type} class={cls} aria-label={label} title={title}>
      <span class={iconClass} aria-hidden="true">
        <slot />
      </span>
      <span class="sr-only">{label}</span>
    </button>
  )
}
