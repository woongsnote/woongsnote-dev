---
import type { CollectionEntry } from 'astro:content';
import { Image } from 'astro:assets';
import Base from '@layouts/Base.astro';
import PostHeader from '@components/PostHeader.astro';
import Comments from '@components/Comments';

interface Props {
  post: CollectionEntry<'blog'>;
  minutesToReadText: string;
}

const { post, minutesToReadText } = Astro.props;
const { title, description, image } = post.data;
---

<Base pageTitle={title} description={description} image={image.src}>
  <article class="mx-auto flex w-full flex-col">
    <PostHeader post={post} minutesToReadText={minutesToReadText} />
    <div
      class="mx-auto mb-4 flex items-center justify-center overflow-hidden rounded-lg shadow-sm"
    >
      <figure
        class="mx-auto h-auto w-auto object-cover object-center duration-300 ease-in-out hover:scale-110 md:h-72"
      >
        <Image
          src={image.src}
          alt={title}
          width="960"
          height="540"
          class="h-full w-full"
        />
      </figure>
    </div>
    <div
      class="prose mx-auto my-4 w-full items-center text-base leading-10 text-content dark:prose-invert lg:max-w-5xl lg:text-xl"
    >
      <slot />
    </div>
    <Comments client:idle />
  </article>
</Base>
