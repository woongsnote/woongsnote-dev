---
import Base from '@layouts/Base.astro';
import type { CollectionEntry } from 'astro:content';
import { Image } from 'astro:assets';
import PostHeader from '@components/PostHeader.astro';

type Props = CollectionEntry<'blog'>['data'] & { minutesRead: any };

const { title, description, pubDate, heroImage, tags, minutesRead } =
  Astro.props;
---

<Base meta_title={title} description={description} image={heroImage} blogpost>
  <article class="p-4">
    <PostHeader
      title={title}
      pubDate={pubDate}
      tags={tags}
      minutesRead={minutesRead}
    />
    <div class="mb-8 mt-2 block overflow-hidden rounded-lg">
      {
        heroImage && (
          <figure class="h-auto w-auto object-cover md:h-[480px]">
            <Image
              class="cursor-progress transition duration-300 ease-in-out hover:scale-110"
              src={heroImage}
              alt={title}
              width={960}
              height={480}
              decoding="async"
              loading="lazy"
            />
          </figure>
        )
      }
    </div>
    <div
      class="prose mx-auto mt-4 w-full items-center text-base leading-10 text-content prose-headings:text-content prose-blockquote:text-content prose-strong:text-content lg:max-w-5xl lg:text-xl"
    >
      <slot />
    </div>
  </article>
</Base>
