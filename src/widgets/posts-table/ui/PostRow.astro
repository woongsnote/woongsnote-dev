---
import { fmtHomeDateShort } from '@/shared/lib/date';
import type { PostEntry } from '@/shared/types';

type Props = {
  post: PostEntry;
};

const { post } = Astro.props;

const href = post.id;

const { title, publishedDate } = post.data;

const date = fmtHomeDateShort(publishedDate);
---

<li class="border-border-subtle border-b last:border-b-0">
  <a
    href={href}
    class="group focus-visible:ring-accent/40 hover:bg-surface-hover active:bg-surface-active flex min-h-12 items-center justify-between px-4 py-4 transition-colors duration-200 focus-visible:ring-2 focus-visible:outline-none"
  >
    <div class="flex min-w-0 items-center gap-4">
      <span
        class="text-sub opacity-date w-20 shrink-0 text-[12px] font-normal tracking-wide"
      >
        {date}
      </span>

      <span
        class="text-foreground group-hover:text-accent truncate text-[15px] font-medium tracking-tight transition-colors"
      >
        {title}
      </span>
    </div>

    <span
      class="text-sub text-[13px] opacity-0 transition-all duration-200 group-hover:opacity-100"
    >
      â†’
    </span>
  </a>
</li>
