---
import { fmtHomeDateShort } from '@/shared/lib/date';
import type { PostEntry } from '@/shared/types';

type Props = {
  post: PostEntry;
};

const { post } = Astro.props;

const href = post.id;

const { title, publishedDate } = post.data;

const date = fmtHomeDateShort(publishedDate)
---

<li class="border-border/40 border-b last:border-b-0">
  <a
    href={href}
    class="group hover:bg-secondary/40 active:bg-secondary/60 focus-visible:ring-accent/40 flex min-h-11 items-center justify-between px-4 py-3 transition-colors duration-200 focus-visible:ring-2 focus-visible:outline-none"
  >
    <div class="flex min-w-0 items-center gap-4">
      <!-- Date -->
      <span
        class="text-sub w-16 shrink-0 text-[12px] font-normal tracking-tight"
      >
        {date}
      </span>

      <!-- Title -->
      <span
        class="text-foreground group-hover:text-accent truncate text-[15px] font-medium tracking-tight transition-colors"
      >
        {title}
      </span>
    </div>

    <!-- Arrow (desktop subtle reveal) -->
    <span
      class="text-sub translate-x-1 text-[13px] opacity-0 transition-all duration-200 group-hover:translate-x-0 group-hover:opacity-100"
    >
      â†’
    </span>
  </a>
</li>
