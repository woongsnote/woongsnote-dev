---
title: 'Astro + Tailwind v4 ë‹¤í¬ëª¨ë“œ êµ¬í˜„ (system ê¸°ë³¸ + light/dark í† ê¸€)'
description: 'Astroì—ì„œ Tailwind CSSì™€ light-dark()ë¥¼ ì‚¬ìš©í•´ ë¼ì´íŠ¸/ë‹¤í¬ë¥¼ ì•ˆì •ì ìœ¼ë¡œ í† ê¸€í•˜ëŠ” ë°©ë²•'
cover: '../../assets/blog-placeholder.jpg'
publishedDate: 2026-01-19
category: 'Tech'
author: 'woongsnote'
tags: ['Astro', 'TailwindCSS', 'DarkMode', 'light-dark']
slug: 'astro-tailwind-v4-dark-mode'
---

ì´ ê¸€ì€ **Astro ë¸”ë¡œê·¸**ì—ì„œ **Tailwind CSS v4 í† í°(@theme) + `light-dark()`** ë¥¼ ì‚¬ìš©í•´

- âœ… **ì‹œìŠ¤í…œ ì„¤ì •(prefers-color-scheme)ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì¡´ì¤‘**í•˜ê³ 
- âœ… **ë²„íŠ¼ìœ¼ë¡œ ë¼ì´íŠ¸ â†” ë‹¤í¬ë§Œ ê°•ì œ ì „í™˜**í•˜ë©°
- âœ… **View Transition / ì´ˆê¸° ë¡œë”© / ì• ë‹ˆë©”ì´ì…˜ê¹Œì§€ ì•ˆì •ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ”**

ì‹¤ë¬´ìš© ë‹¤í¬ëª¨ë“œ êµ¬í˜„ì„ ì •ë¦¬í•œ **ìµœì¢… ì•„í‹°í´**ì´ë‹¤.

---

## 1. ì„¤ê³„ ì² í•™ (ì¤‘ìš”)

ë‹¤í¬ëª¨ë“œì—ì„œ ê°€ì¥ ë§ì´ ìƒê¸°ëŠ” ë²„ê·¸ëŠ” **"system ìƒíƒœë¥¼ ì½”ë“œë¡œ ì œì–´í•˜ë ¤ëŠ” ì‹œë„"** ë‹¤.

ì´ ê¸€ì—ì„œ ì±„íƒí•œ ì›ì¹™ì€ ë‹¨ìˆœí•˜ë‹¤.

- **System ëª¨ë“œ**: ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠëŠ”ë‹¤ (ë¸Œë¼ìš°ì € + OSê°€ ê²°ì •)
- **Light / Dark**: ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ê°•ì œí•œë‹¤

ì¦‰,

> **systemì€ ìƒíƒœê°€ ì•„ë‹ˆë¼ "ê¸°ë³¸ê°’"ì´ë‹¤**

---

## 2. global.css â€” Tailwind v4 í† í° + light-dark()

```css title="global.css"
@import 'tailwindcss';

@theme {
  --font-body: 'Pretendard Variable';

  /* Background */
  --color-background: light-dark(#fafafa, #0f0f23);

  /* Text */
  --color-primary: light-dark(#1a1a1a, #e2e8f0);
  --color-accent: light-dark(#2563eb, #38bdf8);
  --color-secondary: light-dark(#e4f1ff, #03346e);
  --color-sub: light-dark(#6c6c6c, #94a3b8);
}

/* ===============================
   THEME CONTROL
   system = ì•„ë¬´ê²ƒë„ ì„ ì–¸í•˜ì§€ ì•ŠìŒ
================================ */

:root[data-theme='light'] {
  color-scheme: light;
}

:root[data-theme='dark'] {
  color-scheme: dark;
}

/* ===============================
   BASE STYLE
================================ */

html {
  @apply scroll-smooth antialiased;
}

body {
  @apply bg-background font-body text-primary relative mx-auto flex min-h-screen flex-col leading-7;
}

main {
  @apply mx-auto mt-2 w-full max-w-3xl px-4 sm:px-6 lg:px-8;
}
```

### ì™œ ì´ë ‡ê²Œ í•´ì•¼ í• ê¹Œ?

- `light-dark()`ëŠ” **class**ë‚˜ **data-attribute**ë¥¼ ì§ì ‘ ë³´ì§€ ì•ŠëŠ”ë‹¤.
- ì˜¤ì§ **`color-scheme` + prefers-color-scheme**ë§Œ íŒë‹¨í•œë‹¤.

ê·¸ë˜ì„œ system ìƒíƒœì—ì„œëŠ” `color-scheme`ë¥¼ **ì ˆëŒ€ ì„ ì–¸í•˜ì§€ ì•ŠëŠ” ê²ƒ**ì´ í•µì‹¬ì´ë‹¤

---

## 3. ì´ˆê¸° ë¡œë”© ê¹œë¹¡ì„(FOUC) ì œê±°

Astro Layoutì˜ `<head>`ì— **inline script**ë¥¼ ì¶”ê°€í•œë‹¤.

```astro title="FOUC ì œê±°"
<script is:inline>
  const theme = localStorage.getItem('theme');
  if (theme === 'light' || theme === 'dark') {
    document.documentElement.setAttribute('data-theme', theme);
  }
</script>
```

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” CSSë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ë˜ì–´,
**ì²« í˜ì¸íŠ¸ë¶€í„° ì˜¬ë°”ë¥¸ í…Œë§ˆ**ë¥¼ ë³´ì¥í•œë‹¤.

---

## 4. SVG + ì• ë‹ˆë©”ì´ì…˜ í…Œë§ˆ ë²„íŠ¼

### ëª©í‘œ

- ğŸŒ / ğŸŒ™ SVG ì•„ì´ì½˜
- system ìƒíƒœì—ì„œëŠ” **OS ê¸°ì¤€ ì•„ì´ì½˜ í‘œì‹œ**
- ë¶€ë“œëŸ¬ìš´ íšŒì „ ì• ë‹ˆë©”ì´ì…˜

---

## 5. ThemeToggle.astro (ì™„ì„±ë³¸)

```astro title="ThemeToggle.astro"
<button
  id="theme-toggle"
  class="text-sub hover:text-accent relative flex h-9 w-9 items-center justify-center rounded-md transition"
  aria-label="Toggle theme"
>
  <svg
    id="sun-icon"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="currentColor"
    class="absolute h-5 w-5 scale-100 rotate-0 transition-all duration-300"
  >
    <path
      d="M12 4a1 1 0 011 1v1a1 1 0 11-2 0V5a1 1 0 011-1zm0 12a4 4 0 100-8 4 4 0 000 8zm7-5a1 1 0 110 2h-1a1 1 0 110-2h1zM7 12a1 1 0 01-1 1H5a1 1 0 110-2h1a1 1 0 011 1zm9.657-5.657a1 1 0 010 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM8.464 15.536a1 1 0 010 1.414l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 0zm7.071 0a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zM8.464 8.464a1 1 0 01-1.414 0l-.707-.707a1 1 0 011.414-1.414l.707.707a1 1 0 010 1.414z"
    ></path>
  </svg>

  <svg
    id="moon-icon"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="currentColor"
    class="absolute h-5 w-5 scale-0 rotate-90 transition-all duration-300"
  >
    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
  </svg>
</button>

<script is:inline>
  const STORAGE_KEY = 'theme';

  function systemPrefersDark() {
    return window.matchMedia('(prefers-color-scheme: dark)').matches;
  }

  function applyTheme(theme) {
    const root = document.documentElement;

    if (theme === 'light' || theme === 'dark') {
      root.setAttribute('data-theme', theme);
    } else {
      root.removeAttribute('data-theme');
    }

    updateIcon(theme);
  }

  function updateIcon(theme) {
    const sun = document.getElementById('sun-icon');
    const moon = document.getElementById('moon-icon');

    const isDark = theme ? theme === 'dark' : systemPrefersDark();

    if (isDark) {
      sun.classList.add('scale-0', 'rotate-90');
      sun.classList.remove('scale-100', 'rotate-0');

      moon.classList.add('scale-100', 'rotate-0');
      moon.classList.remove('scale-0', 'rotate-90');
    } else {
      moon.classList.add('scale-0', 'rotate-90');
      moon.classList.remove('scale-100', 'rotate-0');

      sun.classList.add('scale-100', 'rotate-0');
      sun.classList.remove('scale-0', 'rotate-90');
    }
  }

  function toggleTheme() {
    const current =
      document.documentElement.getAttribute('data-theme') ??
      (systemPrefersDark() ? 'dark' : 'light');

    const next = current === 'dark' ? 'light' : 'dark';

    localStorage.setItem(STORAGE_KEY, next);
    applyTheme(next);
  }

  const saved = localStorage.getItem(STORAGE_KEY);
  applyTheme(saved);

  document
    .getElementById('theme-toggle')
    ?.addEventListener('click', toggleTheme);

  document.addEventListener('astro:after-swap', () => {
    document
      .getElementById('theme-toggle')
      ?.addEventListener('click', toggleTheme);
    applyTheme(localStorage.getItem(STORAGE_KEY));
  });
</script>
```

---

## 6. ìµœì¢… êµ¬ì¡° ìš”ì•½

```plaintext title="í…Œë§ˆ êµ¬ì¡°"
System (OS)
 â””â”€ prefers-color-scheme
     â””â”€ light-dark()

User Button
 â””â”€ data-theme (light | dark)
     â””â”€ color-scheme override
```

- systemì€ **ê¸°ë³¸ê°’**
- ë²„íŠ¼ì€ **overrideë§Œ ë‹´ë‹¹**
- Tailwind v4 ì² í•™ê³¼ ì™„ì „íˆ ì¼ì¹˜

---

## 7. í•œ ì¤„ ê²°ë¡ 

> **ê°€ì¥ ì¢‹ì€ ë‹¤í¬ëª¨ë“œëŠ”
> systemì„ ë¯¿ê³ ,
> ì‚¬ìš©ìëŠ” í•„ìš”í•  ë•Œë§Œ ê°œì…í•˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤**

ì´ êµ¬ì¡°ëŠ” Astro ë¸”ë¡œê·¸ì—ì„œ ê°€ì¥ ë‹¨ìˆœí•˜ê³  ê°€ì¥ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë©° ê°€ì¥ ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰½ë‹¤.
