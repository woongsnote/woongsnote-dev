---
title: 'Woongsnote'
description: '개발 관련 학습한 지식 공유를 위한 기술 블로그'
cover: '../../assets/woongsnote.png'
publishedDate: 2024-03-11
category: 'Project'
author: 'woongsnote'
tags: ['Nextjs', 'Astro', 'TypeScript', 'TailwindCSS', 'Vercel']
slug: 'woongsnote'
---

## 📝 개요

- 개발 관련 학습한 지식들과 구현한 프로젝트들을 공유하기 위한 needs로 블로그를 구현하고자 함.

- 이미 나와있는 플랫폼도 많이 있지만, 직접 기획부터 개발 및 배포까지 진행.

## ⚒️ 기술 스택

- 언어: `TypeScript`

- 스타일: `TailwindCSS`

- 프레임워크: `Next.js`=> `Astro`

- 배포: `Vercel`

---

## 🗃️ 주요 기능

- `Tailwind CSS`를 활용한 반응형 UI 구현.
- `SEO` 적용.
- `Light` / `Dark` Mode 지원.
- `Giscus`를 활용한 댓글 기능 지원.

---

## 프로젝트 구조

```
📦src
 ┣ 📂assets
 ┣ 📂components
 ┃ ┣ 📂Card
 ┃ ┃ ┣ 📜Card.astro
 ┃ ┃ ┣ 📜CardBody.astro
 ┃ ┃ ┣ 📜CardFooter.astro
 ┃ ┃ ┣ 📜CardHeader.astro
 ┃ ┃ ┣ 📜CardImage.astro
 ┃ ┃ ┗ 📜Category.astro
 ┃ ┣ 📂Common
 ┃ ┃ ┣ 📜BaseHead.astro
 ┃ ┃ ┣ 📜FormattedDate.astro
 ┃ ┃ ┣ 📜ProfileImage.astro
 ┃ ┃ ┗ 📜SocialLinks.astro
 ┃ ┣ 📂Footer
 ┃ ┃ ┗ 📜Footer.astro
 ┃ ┣ 📂Header
 ┃ ┃ ┣ 📜Header.astro
 ┃ ┃ ┣ 📜Logo.astro
 ┃ ┃ ┣ 📜Navigation.astro
 ┃ ┃ ┗ 📜NavLink.astro
 ┃ ┣ 📂Hero
 ┃ ┃ ┣ 📜Bio.astro
 ┃ ┃ ┣ 📜Hero.astro
 ┃ ┃ ┗ 📜TechStack.astro
 ┃ ┣ 📂Page
 ┃ ┃ ┣ 📜PageHeader.astro
 ┃ ┃ ┣ 📜Pagination.astro
 ┃ ┃ ┗ 📜ViewMore.astro
 ┃ ┣ 📂Post
 ┃ ┃ ┣ 📜Comments.tsx
 ┃ ┃ ┣ 📜PostThumbnail.astro
 ┃ ┃ ┣ 📜ReadingTimeText.astro
 ┃ ┃ ┣ 📜TagItem.astro
 ┃ ┃ ┗ 📜TagList.astro
 ┃ ┗ 📂Theme
 ┃ ┃ ┣ 📜ThemeButton.astro
 ┃ ┃ ┗ 📜ThemeSwitcher.astro
 ┣ 📂config
 ┃ ┗ 📜site-config.ts
 ┣ 📂content
 ┃ ┣ 📂posts
 ┃ ┣ 📂projects
 ┃ ┣ 📂schemas
 ┃ ┃ ┣ 📜blogSchema.ts
 ┃ ┃ ┗ 📜projectSchema.ts
 ┃ ┗ 📜config.ts
 ┣ 📂icons
 ┣ 📂layouts
 ┃ ┣ 📜Article.astro
 ┃ ┣ 📜Base.astro
 ┃ ┣ 📜Cards.astro
 ┃ ┣ 📜Posts.astro
 ┃ ┗ 📜Projects.astro
 ┣ 📂pages
 ┃ ┣ 📂posts
 ┃ ┃ ┣ 📂[slug]
 ┃ ┃ ┃ ┗ 📜index.astro
 ┃ ┃ ┗ 📜[...page].astro
 ┃ ┣ 📂projects
 ┃ ┃ ┣ 📂[slug]
 ┃ ┃ ┃ ┗ 📜index.astro
 ┃ ┃ ┗ 📜[...page].astro
 ┃ ┣ 📂tags
 ┃ ┃ ┗ 📂[tag]
 ┃ ┣ 📜404.astro
 ┃ ┣ 📜about.astro
 ┃ ┣ 📜index.astro
 ┃ ┗ 📜rss.xml.js
 ┣ 📂styles
 ┃ ┗ 📜global.css
 ┣ 📂utils
 ┃ ┗ 📜data-util.ts
 ┗ 📜env.d.ts
```

## 버전 변경

- `v0`: Next.js(v12)과 ContentLayer를 사용
- `v1`: Next.js(v13)으로 version Up
- `v2`: Astro로 프레임워크 변경
- `v3(Current)`: Astro v4 등장에 따른 version Up

## 🖥️ 구현 결과

- [사이트 링크](https://www.woongsnote.dev)

## 💡 트러블 슈팅

### 1. Next.js

| **MDX Rendering - `ContentLayer` 적용**

- `MDX`로 작성한 게시글을 보여줄 방법을 고민하던 중, `ContentLayer`라는 컨텐츠 관리 도구를 알게 되었다.

  `Next.js` 프로젝트에 적용하는 [방법](https://contentlayer.dev/docs/environments/nextjs-dcf8e39e)이 공식 홈페이지에 잘 설명되어 있어,
  이를 토대로 **블로그**에 적용했다.

| **Routing 변경 - `App Router` 적용**

- 처음 블로그를 만들기 시작했을 때는 Next.js의 버전이 **12**버전이었고, Pages Router 방식만 존재했다.

  Next.js의 Major 버전이 **12**버전에서 **13**버전으로 Major 업데이트가 진행되고, `App Router` 방식이 등장했다.

  초기에는 Next js 공식 홈페이지에서 이 방식을 production에 사용하는 것을 권장하지 않았기 때문에, App Router 방식은 `dev` Branch에서만 진행했다.

  `Next.js 13.4` 버전에서부터 App Router 방식이 **Stable**로 변경되어, 해당 Router방식을 적용했다.

| **Code Block Formatting - `Rehype Pretty Code`**

- mdx 내부 Code Block의 커스터마이징을 위해 `Rehype Pretty Code` 라이브러리를 적용했다.

| **remark-GFM inTable issue**

- remark-gfm 버전이 **3**에서 **4**버전으로 업데이트 되면서 빌드할 때, `inTable` issue로 빌드가 안되는 문제가 생겼다.
  Contentlayer와의 호환성 issue로 판단되어, 3버전으로 다운그레이드를 진행하서 해결할 수 있었다.

### 2. Astro

| **Dark Mode 구현**

- 기존 `Next.js` 프레임워크를 사용했을 때는, `next-themes`를 활용해서 빠르게 **다크 모드**를 구현할 수 있었다.

  `Astro`로 프레임워크를 변경함에 따라, 해당 패키지 사용이 불가해져서 직접 구현해서 해결했다.

---

## 📜 참고 자료

- [NextJS 공식 문서](https://nextjs.org/docs)
- [ContentLayer 공식 문서](https://www.contentlayer.dev)
- [Astro 공식 문서](https://astro.build)
