---
title: Astroë¡œ MDX ë¸”ë¡œê·¸ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•
description: Astroì™€ Tailwind CSSë¥¼ ì‚¬ìš©í•´ì„œ ë¸”ë¡œê·¸ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ë‹¨ê³„ë³„ë¡œ ì •ë¦¬
cover: '../../assets/blog-placeholder.jpg'
publishedDate: 2024-03-22
category: 'Tech'
author: 'woongsnote'
tags: ['Astro', 'Blog', 'MDX', 'TailwindCSS']
slug: 'how-to-make-mdx-blog-use-astro'
---

Astroì™€ TailwindCSSë¥¼ ì‚¬ìš©í•´ì„œ MDX ë¸”ë¡œê·¸ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ë‹¨ê³„ë³„ë¡œ ë‚˜ëˆ  ì •ë¦¬í•´ë³´ë ¤ê³  í•œë‹¤.

## 1. Astro í”„ë¡œì íŠ¸ ìƒì„±

ë¨¼ì €, í„°ë¯¸ë„ì—ì„œ Astro í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤.

```bash
npm create astro@latest
```

ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´, ì•„ë˜ì™€ ê°™ì€ ì ˆì°¨ë¡œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

<details>
<summary> í”„ë¡œì íŠ¸ ìƒì„± ìˆœì„œ</summary>

1. create-astroë¥¼ ì„¤ì¹˜í•  ì§€ ë¬¼ì–´ë³´ë©´, `y`ë¥¼ ëˆŒëŸ¬ ì„¤ì¹˜

2. ì„¤ì¹˜ê°€ ì™„ë£Œë˜ê³ , í”„ë¡œì íŠ¸ì˜ ì´ë¦„ì„ ì›í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ ì…ë ¥í•œë‹¤. ex) my-blog

3. í…œí”Œë¦¿ì€ `Use Empty`ë¥¼ ì„ íƒ - í”„ë¡œì íŠ¸ë¥¼ ê°€ë³ê²Œ êµ¬ì„±í•˜ê¸° ìœ„í•¨

4. dependenciesë¥¼ ì„¤ì¹˜í•  ì§€ ë¬¼ì–´ë³´ë©´ `y`ë¥¼ ì…ë ¥

5. TypeScript ì‚¬ìš© - í”„ë¡œì íŠ¸ì˜ íƒ€ì… ì•ˆì •ì„±ì„ ìœ„í•´ `yes` ì„ íƒ

6. TypeScriptì˜ strict ì„¤ì • - ê¶Œì¥ ì‚¬í•­ì— ë§ì¶° `strict` ì„ íƒ

7. git repository ë¥¼ ì´ˆê¸°í™”í•  ì§€ ê²°ì • - ì¶”í›„ ë°°í¬ë¥¼ ìœ„í•´ `init` ì„ íƒ

</details>

í”„ë¡œì íŠ¸ê°€ ë¬¸ì œ ì—†ì´ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´, VS Codeì—ì„œ ë°©ê¸ˆ ë§Œë“  í´ë”ë¥¼ ì—´ê³ , ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰í•œë‹¤.

```bash
npm run dev
```

ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´, ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•´ `Tailwind CSS`ë¥¼ ì¶”ê°€í•´ë³´ì.

## 2. Tailwind CSS ì¶”ê°€

ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ Tailwind CSSë¥¼ ì¶”ê°€í•œë‹¤.
Astroì—ì„œ ì œê³µí•´ì£¼ëŠ” Integrationì„ ì´ìš©í•´ì„œ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```bash
npx astro add tailwind
```

ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´, íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ê³ , `tailwind.config.mjs` íŒŒì¼ê¹Œì§€ ìƒì„±ë  ê²ƒì´ë‹¤.

â€» í•´ë‹¹ ëª…ë ¹ì–´ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì§ì ‘ ì„¤ì¹˜í•  ìˆ˜ë„ ìˆë‹¤.

```bash
npm install @astrojs/tailwind tailwindcss
```

TailwindCSS ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´, ë¸”ë¡œê·¸ ê²Œì‹œê¸€ ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•´ `@tailwindcss/typography` í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.
íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³ , `tailwind.config.mjs` íŒŒì¼ì— í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•œë‹¤.

```bash
npm install -D @tailwindcss/typography
```

```js title="tailwind.config.mjs"
/** @type {import('tailwindcss').Config} */
export default {
  content: ['./src/**/*.{astro,html,js,jsx,md,mdx,svelte,ts,tsx,vue}'],
  theme: {
    extend: {},
  },
  plugins: [require('@tailwindcss/typography')],
};
```

Tailwindê°€ ì˜ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´,`src/pages/indexe.astro`ì—ì„œ h1ì— classë¥¼ ì¶”ê°€í•´ë³´ì.

```astro title="src/pages/index.astro"
---
---

<html>
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
	</head>
	<body>
      <h1 class="text-3xl font-black text-blue-500">Astro</h1>
	</body>
</html>

```

## 3. í”„ë¡œì íŠ¸ì— @astro/mdx ì¶”ê°€

`MDX`íŒŒì¼ ë Œë”ë§ì„ ìœ„í•´ `Astro`ì—ì„œ ì œê³µí•˜ëŠ” `@astro/mdx`ë¥¼ ì„¤ì¹˜í•œë‹¤.

```bash
npx astro add mdx
```

## 4. Content Collection êµ¬ì„±

`src` í´ë”ì— `content` í´ë”ë¥¼ ìƒì„±í•œë‹¤.
`content` í´ë”ì— `blog` í´ë”ë¥¼ ë§Œë“¤ê³  `my-first-post.mdx`íŒŒì¼ì„ ìƒì„±í•œë‹¤.

**â€» `Content Collection`ì„ ìœ„í•œ ì˜ˆì•½ì–´ë¡œ `content`í´ë”ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤. `content` í´ë” í•˜ìœ„ì— ìƒì„±í•˜ëŠ” í´ë” ì´ë¦„ì€ ì›í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ ìƒì„±í•´ë„ ëœë‹¤.**


```text
ğŸ“¦src
 â”£ ğŸ“‚content
 â”ƒ â”— ğŸ“‚blog
 â”ƒ â”ƒ â”— ğŸ“œmy-first-post.mdx
 â”£ ğŸ“‚pages
 â”ƒ â”— ğŸ“œindex.astro
 â”— ğŸ“œenv.d.ts
```

íƒ€ì… ì•ˆì •ì„±ì„ ìœ„í•´ `content` í´ë”ì— `config.ts` íŒŒì¼ì„ ìƒì„±í•œë‹¤.

```text
ğŸ“¦src
 â”£ ğŸ“‚content
 â”ƒ â”£ ğŸ“‚blog
 â”ƒ â”ƒ â”— ğŸ“œmy-first-post.mdx
 â”ƒ â”— ğŸ“œconfig.ts
 â”£ ğŸ“‚pages
 â”ƒ â”£ ğŸ“‚blog
 â”ƒ â”— ğŸ“œindex.astro
 â”— ğŸ“œenv.d.ts
```

`config.ts`ì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.

```ts title="src/content/config.ts"
import { defineCollection, z } from 'astro:content';

const blogCollection = defineCollection({
  type: 'content',
  schema: ({ image }) =>
    z.object({
      title: z.string(),
      description: z.string(),
      publishedDate: z.date(),
      cover: image(),
      coverAlt: z.string().optional(),
      category: z.string(),
      tags: z.array(z.string()),
    }),
});

export const collections = {
  blog: blogCollection,
};
```

**â€» `schema`ë¥¼ ì—¬ëŸ¬ ê°œ ìƒì„±í•´ì•¼ í•œë‹¤ë©´, ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬í•´ì„œ ê´€ë¦¬í•  ìˆ˜ë„ ìˆë‹¤.** 

## 5. ì²« ë²ˆì§¸ ê²Œì‹œê¸€ ë Œë”ë§

í™”ë©´ì— ë³´ì—¬ì¤„ ì²« ë²ˆì§¸ ê²Œì‹œê¸€ì„ ì‘ì„±í•œë‹¤.

```mdx title="my-first-post.mdx"
---
title: ì²« ë²ˆì§¸ ê²Œì‹œê¸€
description: ì²« ë²ˆì§¸ ê²Œì‹œê¸€ì…ë‹ˆë‹¤.
cover: "../../assets/blog-placeholder.jpg"
publishedDate: 2024-03-22
category: "Tech"
tags: ["Astro", "Blog", "MDX", "TailwindCSS"]
---

ì²« ë²ˆì§¸ ê²Œì‹œê¸€ì…ë‹ˆë‹¤.
```

**â€» src í´ë”ì— `assets` í´ë”ë¥¼ ë§Œë“¤ê³ , `thumbnail`ì— ì‚¬ìš©í•  ì´ë¯¸ì§€ë¥¼ ì¶”ê°€í•œë‹¤. ë§Œì•½ content í´ë” ì•ˆì— ì´ë¯¸ì§€ë¥¼ ë‹´ëŠ”ë‹¤ë©´, `cover: "./blog-placeholder.jpg"`ì™€ ê°™ì´ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.**

ê²Œì‹œê¸€ ì‘ì„±ì´ ì™„ë£Œë˜ë©´, `pages`í´ë”ì˜ `blog`í´ë”ì—, `[slug].astro` íŒŒì¼ì„ ìƒì„±í•œë‹¤.

```text
ğŸ“¦pages
 â”£ ğŸ“‚blog
 â”ƒ â”— ğŸ“œ[slug].astro
```

`[slug].astro` íŒŒì¼ì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.

```astro title="src/pages/blog/[slug].astro"
---
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";

export const getStaticPaths = (async () => {
  const blogEntries = await getCollection("blog");

  return blogEntries.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}) satisfies GetStaticPaths;

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<html>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body>
    <Content />
  </body>
</html>
```

**â€» ë§Œì•½, `<head>` ë¶€ë¶„ì´ ì—†ì´ `<Content />`ë§Œ ì…ë ¥í•˜ë©´ í•œê¸€ì´ ê¹¨ì§€ëŠ” í˜„ìƒì„ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.**

`index.astro`ì™€ ê³µí†µì¸ ë¶€ë¶„ì„ í•´ë‹¹ ë¶€ë¶„ì„ layouts í´ë”ì— `BaseLayout.astro` íŒŒì¼ë¡œ ë¶„ë¦¬í•œë‹¤.

```astro title="src/layouts/BaseLayout.astro"
---

---
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body>
    <main>
      <slot />
    </main>
  </body>
</html>
```

`<slot/>`ì´ ë³´í†µ Reactì—ì„œ ì‚¬ìš©í•˜ëŠ” `children` ì—­í• ì„ í•œë‹¤.

BaseLayoutë¥¼ importí•´ì„œ `index.astro`ì™€ `[slug].astro`ì— ì ìš©í•˜ë©´, ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ëœë‹¤.

```astro title="index.astro"
---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout>
  <h1 class="text-3xl font-black text-blue-500">Astro</h1>
</BaseLayout>
```

```astro title="[slug].astro"
---
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

type Props = {
  post: CollectionEntry<"blog">;
};

export const getStaticPaths = (async () => {
  const blogPosts = await getCollection("blog");

  return blogPosts.map((post) => ({
    params: { slug: post.slug },
    props: { post },
  }));
}) satisfies GetStaticPaths;

const { post } = Astro.props;
const { Content } = await post.render();
const { title, description, cover } = post.data;
---

<BaseLayout>
  <article>
    <h1>{title}</h1>
    <p>{description}</p>
    <Image
      src={cover}
      alt={title}
      class="object-cover object-center rounded-lg mx-auto block"
      width={300}
      height={300}
    />
    <div>
      <Content />
    </div>
  </article>
</BaseLayout>
```

## 6. ê²Œì‹œê¸€ ëª©ë¡ ë Œë”ë§

ê²Œì‹œê¸€ ëª©ë¡ì„ ë§Œë“¤ê¸° ìœ„í•´, `blog` í´ë”ì— ìƒˆë¡œìš´ MDX íŒŒì¼ì„ ì¶”ê°€í•œë‹¤.

```text
ğŸ“¦blog
 â”£ ğŸ“œmy-first-post.mdx
 â”£ ğŸ“œmy-second-post.mdx
 â”— ğŸ“œmy-third-post.mdx
```
ê²Œì‹œê¸€ ëª©ë¡ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ `index.astro`ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•œë‹¤.

```astro title="src/pages/index.astro"
---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";

const allPosts = await getCollection("blog");
---

<BaseLayout>
  <ul>
    {
      allPosts.map((post) => (
        <li>
          <a href={`/blog/${post.slug}`}>{post.data.title}</a>
        </li>
      ))
    }
  </ul>
</BaseLayout>

```

## 7. ë””ìì¸ ìˆ˜ì •í•˜ê¸°

BaseLayoutì— Tailwind classë¥¼ ì¶”ê°€í•´ì„œ, ë””ìì¸ì„ ìˆ˜ì •í•œë‹¤.
```astro title="BaseLayout.astro"
---

---

<html>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body>
    <main class="max-w-5xl mx-auto p-2">
      <slot />
    </main>
  </body>
</html>
```

ê²Œì‹œê¸€ì˜ ê²½ìš°, Tailwind CSSì˜ `Typography` í”ŒëŸ¬ê·¸ì¸ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´, `<article>`ì— `prose` classë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

```astro title="[slug].astro"
---
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

type Props = {
  post: CollectionEntry<"blog">;
};

export const getStaticPaths = (async () => {
  const blogPosts = await getCollection("blog");

  return blogPosts.map((post) => ({
    params: { slug: post.slug },
    props: { post },
  }));
}) satisfies GetStaticPaths;

const { post } = Astro.props;
const { Content } = await post.render();
const { title, description, cover } = post.data;
---

<BaseLayout>
  <article class="prose mx-auto">
    <h1>{title}</h1>
    <p>{description}</p>
    <Image
      src={cover}
      alt={title}
      class="object-cover object-center rounded-lg mx-auto block"
      width={300}
      height={300}
    />
    <div>
      <Content />
    </div>
  </article>
</BaseLayout>
```

ê·¸ ì™¸ì— ë°”ê¾¸ê³  ì‹¶ì€ ìŠ¤íƒ€ì¼ì´ ìˆëŠ” ê²½ìš°, ìˆ˜ì •ì„ ì§„í–‰í•˜ë„ë¡ í•˜ì.

## 8. rehype-pretty-code ì¶”ê°€

ê²Œì‹œê¸€ì„ ì‘ì„±í•˜ë‹¤ ë³´ë©´, Code Blockì„ ì¶”ê°€í•´ì•¼ í•˜ëŠ”ë°, Code Blockì˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ ìœ„í•´ `rehype-pretty-code`ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤.
ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•´ì¤€ë‹¤.

```bash
npm install rehype-pretty-code
```

íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ê³  ë‚˜ë©´, `astro.config.mjs`ì— ì¶”ê°€í•´ì£¼ë„ë¡ í•˜ì.

```js
import { defineConfig } from "astro/config";
import tailwind from "@astrojs/tailwind";
import mdx from "@astrojs/mdx";
import rehypePrettyCode from "rehype-pretty-code";

// https://astro.build/config
export default defineConfig({
  integrations: [
    tailwind(),
    mdx({
      syntaxHighlight: false,
      rehypePlugins: [
        [
          rehypePrettyCode,
          {
            theme: "one-dark-pro",
          },
        ],
      ],
    }),
  ],
});

```

## 9. Metadata

Metadata ê´€ë¦¬ë¥¼ ìœ„í•´, `src`ì— `components` í´ë”ë¥¼ ë§Œë“¤ê³ , `Metadata.astro` íŒŒì¼ì„ ìƒì„±í•˜ì.
`Metadata.astro`ì˜ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

```astro title="Metadata.astro"
---

type Props = {
  title: string;
  description: string;
  image: string;
};

const { title, description, image } = Astro.props;
---

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" type="image/svg+xml" href="/favicon.png" />
<meta name="generator" content={Astro.generator} />
<title>{title}</title>
<meta name="title" content={title} />
<meta name="description" content={description} />

<meta property="og:type" content="website" />
<meta property="og:url" content={Astro.url} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={new URL(image, Astro.url)} />

<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content={Astro.url} />
<meta property="twitter:title" content={title} />
<meta property="twitter:description" content={description} />
<meta property="twitter:image" content={new URL(image, Astro.url)} />

```

ìƒì„±í•œ Metadata.astro íŒŒì¼ì„ `BaseLayout`ì—ì„œ `import` í•´ì¤€ë‹¤.

```astro title="BaseLayout.astro"


```

## 10. ë¹Œë“œí•´ë³´ê¸°

ì˜¤ë¥˜ê°€ ì—†ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´, ë¹Œë“œí•´ì„œ ì‹¤í–‰í•´ë³´ë„ë¡ í•˜ì.
ì•„ë˜ ëª…ë ¹ì–´ë¡œ, ë¹Œë“œë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

```bash
npm run build
```

**â€» ë¹Œë“œ ë‹¨ê³„ì—ì„œ ë¬¸ì œê°€ ìˆë‹¤ë©´ ë¹Œë“œ ìì²´ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤!**

## 12. ë°°í¬

ì‚¬ìš©í•˜ê³  ì‹¶ì€ í”Œë«í¼(ex. Vercel, Netlify, github-pages)ì„ ì´ìš©í•´ì„œ, ë°°í¬ë¥¼ ì§„í–‰í•˜ë©´ ëœë‹¤.


ìµœì¢… ì™„ì„±ëœ ì†ŒìŠ¤ ì½”ë“œëŠ” [ì—¬ê¸°](https://github.com/woongsnote/minimal-astro-blog)ì—ì„œ ë³¼ ìˆ˜ ìˆë‹¤.
