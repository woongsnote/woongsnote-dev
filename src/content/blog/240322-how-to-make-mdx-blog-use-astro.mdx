---
title: Astro로 MDX 블로그를 구현하는 방법
description: Astro와 Tailwind CSS를 사용해서 블로그를 구현하는 방법을 단계별로 정리
cover: '../../assets/blog-placeholder.jpg'
publishedDate: 2024-03-22
category: 'Tech'
author: 'woongsnote'
tags: ['Astro', 'Blog', 'MDX', 'TailwindCSS']
slug: 'how-to-make-mdx-blog-use-astro'
---

Astro와 TailwindCSS를 사용해서 MDX 블로그를 구현하는 방법을 단계별로 나눠 정리해보려고 한다.

## 1. Astro 프로젝트 생성

먼저, 터미널에서 Astro 프로젝트를 생성한다.

```bash
npm create astro@latest
```

명령어를 실행하면, 아래와 같은 절차로 프로젝트를 생성할 수 있다.

<details>
<summary> 프로젝트 생성 순서</summary>

1. create-astro를 설치할 지 물어보면, `y`를 눌러 설치

2. 설치가 완료되고, 프로젝트의 이름을 원하는 이름으로 입력한다. ex) my-blog

3. 템플릿은 `Use Empty`를 선택 - 프로젝트를 가볍게 구성하기 위함

4. dependencies를 설치할 지 물어보면 `y`를 입력

5. TypeScript 사용 - 프로젝트의 타입 안정성을 위해 `yes` 선택

6. TypeScript의 strict 설정 - 권장 사항에 맞춰 `strict` 선택

7. git repository 를 초기화할 지 결정 - 추후 배포를 위해 `init` 선택

</details>

프로젝트가 문제 없이 생성되었는지 확인하기 위해, VS Code에서 방금 만든 폴더를 열고, 아래 명령어로 실행한다.

```bash
npm run dev
```

정상적으로 실행되면, 현재까지의 작업한 내용에 대한 커밋을 남겨 저장한다.

이제, 스타일링을 위해 Tailwind CSS를 추가해보자.

## 2. Tailwind CSS 추가

아래 명령어를 사용해서 Tailwind CSS를 추가한다.
Astro에서 제공해주는 Integration을 이용해서 설치하는 방법이다.

```bash
npx astro add tailwind
```

정상적으로 실행되면, 패키지가 설치되고, `tailwind.config.mjs` 파일까지 생성될 것이다.

※ 해당 명령어가 정상적으로 동작하지 않는다면, 아래 명령어로 직접 설치할 수도 있다.

```bash
npm install @astrojs/tailwind tailwindcss
```

TailwindCSS 설치가 완료되었다면, 블로그 게시글 스타일링을 위해 `@tailwindcss/typography` 플러그인을 추가해야 한다.
패키지를 설치하고, `tailwind.config.mjs` 파일에 플러그인을 추가한다.

```bash
npm install -D @tailwindcss/typography
```

```js title="tailwind.config.mjs"
/** @type {import('tailwindcss').Config} */
export default {
  content: ['./src/**/*.{astro,html,js,jsx,md,mdx,svelte,ts,tsx,vue}'],
  theme: {
    extend: {},
  },
  plugins: [require('@tailwindcss/typography')],
};
```

Tailwind가 잘 설치되었는지 확인하기 위해,`src/pages/indexe.astro`에서 h1에 class를 추가해보자.

```html
<h1 class="text-3xl font-black text-blue-500">Astro</h1>
```

## 3. 프로젝트에 @astro/mdx 추가

```bash
npx astro add mdx
```

## 4. Content Collection 구성

`src` 폴더에 `content` 폴더를 생성하고, `content` 폴더에 `blog` 폴더를 생성한다.
`blog` 폴더에 `my-first-post.mdx`파일을 생성한다.

```text
📦src
 ┣ 📂content
 ┃ ┗ 📂blog
 ┃ ┃ ┗ 📜my-first-post.mdx
 ┣ 📂pages
 ┃ ┗ 📜index.astro
 ┗ 📜env.d.ts
```

타입 안정성을 위해 `content` 폴더에 `config.ts` 파일을 생성한다.

```text
📦src
 ┣ 📂content
 ┃ ┣ 📂blog
 ┃ ┃ ┗ 📜my-first-post.mdx
 ┃ ┗ 📜config.ts
 ┣ 📂pages
 ┃ ┣ 📂blog
 ┃ ┗ 📜index.astro
 ┗ 📜env.d.ts
```

`config.ts`의 내용은 아래와 같다.

```ts title="src/content/config.ts"
import { defineCollection, z } from 'astro:content';

const blogCollection = defineCollection({
  type: 'content',
  schema: ({ image }) =>
    z.object({
      title: z.string(),
      description: z.string(),
      publishedDate: z.date(),
      cover: image(),
      coverAlt: z.string().optional(),
      category: z.string(),
      tags: z.array(z.string()),
    }),
});

export const collections = {
  blog: blogCollection,
};
```

## 5. 첫 번째 게시글 렌더링

src 폴더에 `assets` 폴더를 만들고, `thumbnail`에 사용할 이미지를 추가한다.

```astro title="src/pages/blog/[slug].astro"
---
title: 첫 번째 게시글
description: 첫 번째 게시글입니다.
cover: "../../assets/blog-placeholder.jpg"
publishedDate: 2024-03-22
category: "Tech"
tags: ["Astro", "Blog", "MDX", "TailwindCSS"]
---

첫 번째 게시글입니다.
```

## 6. 게시글 목록 렌더링

게시글 목록을 만들기 위해, blog 폴더에 MDX 파일을 추가한다.
```text
📦blog
 ┣ 📜my-first-post.mdx
 ┣ 📜my-second-post.mdx
 ┗ 📜my-third-post.mdx
```
게시글 목록을 가져오기 위해 `index.astro`를 아래와 같이 수정한다.

```astro title="src/pages/index.astro"
---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";

const allPosts = await getCollection("blog");
---

<BaseLayout>
  <ul>
    {
      allPosts.map((post) => (
        <li>
          <a href={`/blog/${post.slug}`}>{post.data.title}</a>
        </li>
      ))
    }
  </ul>
</BaseLayout>

```