---
import PostList from '@/components/Posts/PostList.astro';
import { getFilteredPostsByYear } from '@utils/data-util';

type Props = {
  year: string;
};

const { year } = Astro.props;

const postsByYear = await getFilteredPostsByYear(year);
console.log(postsByYear)
const totalPosts = postsByYear.length;
---

<section class="flex flex-col space-y-2 lg:space-y-4">
  <h2 class="mb-2 text-2xl font-bold lg:text-3xl">
    {`${year}`}
    <span class="text-sm lg:text-lg">({totalPosts})</span>
  </h2>
  <PostList posts={postsByYear} />
</section>
